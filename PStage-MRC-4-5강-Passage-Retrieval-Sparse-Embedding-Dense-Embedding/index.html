<!doctype html>
<html lang="ko"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>PStage MRC 4-5강 - Passage Retrieval - Sparse Embedding, Dense Embedding - YOHAI</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="Yohan Lee"><meta name="msapplication-TileImage" content="/image/avatar.jpg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Yohan Lee"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="Introduction to Passage RetrievalPassage Retrieval"><meta property="og:type" content="blog"><meta property="og:title" content="PStage MRC 4-5강 - Passage Retrieval - Sparse Embedding, Dense Embedding"><meta property="og:url" content="https://l-yohai.github.io/PStage-MRC-4-5%EA%B0%95-Passage-Retrieval-Sparse-Embedding-Dense-Embedding/"><meta property="og:site_name" content="YOHAI"><meta property="og:description" content="Introduction to Passage RetrievalPassage Retrieval"><meta property="og:locale" content="ko_KR"><meta property="og:image" content="https://l-yohai.github.io/image/og_image.jpeg"><meta property="article:published_time" content="2021-10-13T19:59:34.000Z"><meta property="article:modified_time" content="2021-10-13T19:59:47.019Z"><meta property="article:author" content="Yohan Lee"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/image/og_image.jpeg"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://l-yohai.github.io/PStage-MRC-4-5%EA%B0%95-Passage-Retrieval-Sparse-Embedding-Dense-Embedding/"},"headline":"PStage MRC 4-5강 - Passage Retrieval - Sparse Embedding, Dense Embedding","image":[],"datePublished":"2021-10-13T19:59:34.000Z","dateModified":"2021-10-13T19:59:47.019Z","author":{"@type":"Person","name":"Yohan Lee"},"publisher":{"@type":"Organization","name":"YOHAI","logo":{"@type":"ImageObject","url":"https://l-yohai.github.io/image/logo.png"}},"description":"Introduction to Passage RetrievalPassage Retrieval"}</script><link rel="canonical" href="https://l-yohai.github.io/PStage-MRC-4-5%EA%B0%95-Passage-Retrieval-Sparse-Embedding-Dense-Embedding/"><link rel="alternate" href="/rss.xml" title="YOHAI" type="application/atom+xml"><link rel="icon" href="/image/avatar.jpg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="preconnect" href="https://fonts.gstatic.com"><link href="https://fonts.googleapis.com/css2?family=Jua:wght@400&amp;family=Source+Code+Pro" rel="stylesheet"><link rel="preconnect" href="https://fonts.gstatic.com"><link href="https://fonts.googleapis.com/css2?family=Nanum+Gothic:wght@700&amp;family=Source+Code+Pro" rel="stylesheet"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><script src="https://www.googletagmanager.com/gtag/js?id=G-FE2M7J88MT" async></script><script>window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
    
        gtag('config', 'G-FE2M7J88MT');</script><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><!--!--><!--!--><meta name="generator" content="Hexo 5.4.0"></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/image/logo.png" alt="YOHAI" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="external nofollow noopener noreferrer" title="Download on GitHub" href="https://github.com/l-yohai"><i class="fab fa-github"></i></a><a class="navbar-item is-hidden-tablet catalogue" title="카탈로그" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="검색" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time datetime="2021-10-13T19:59:34.000Z" title="2021. 10. 14. 오전 4:59:34">2021-10-14</time>&nbsp;게시 됨</span><span class="level-item"><time datetime="2021-10-13T19:59:47.019Z" title="2021. 10. 14. 오전 4:59:47">2021-10-14</time>&nbsp;업데이트 됨</span><span class="level-item"><a class="link-muted" href="/categories/Study/">Study</a><span> / </span><a class="link-muted" href="/categories/Study/NLP/">NLP</a><span> / </span><a class="link-muted" href="/categories/Study/NLP/MRC/">MRC</a></span><span class="level-item">13분안에 읽기 (약 1895 단어)</span></div></div><h1 class="title is-3 is-size-4-mobile">PStage MRC 4-5강 - Passage Retrieval - Sparse Embedding, Dense Embedding</h1><div class="content"><h2 id="Introduction-to-Passage-Retrieval"><a href="#Introduction-to-Passage-Retrieval" class="headerlink" title="Introduction to Passage Retrieval"></a>Introduction to Passage Retrieval</h2><h3 id="Passage-Retrieval"><a href="#Passage-Retrieval" class="headerlink" title="Passage Retrieval"></a>Passage Retrieval</h3><p>Passage Retrieval은 질문에 맞는 문서를 찾는 것을 의미한다. 데이터베이스에 따라서 형태가 달라질 수는 있지만, 일반적으로 웹 상에 존재하는 모든 문서를 대상으로 한다. 예를들어 토트넘이라는 쿼리에 대해서 토트넘의 역사, 우승기록, 손흥민 등에 대한 문서를 가져오는 시스템을 의미한다.</p>
<h3 id="Passage-Retrieval-with-MRC"><a href="#Passage-Retrieval-with-MRC" class="headerlink" title="Passage Retrieval with MRC"></a>Passage Retrieval with MRC</h3><p>Passage Retrieval을 MRC와 연결지어 생각했을 때, Open-domain Question Answering이 가능해진다. Passage Retrieval과 MRC를 이어서 2-Stage로 만들어버리는 것을 의미하는데, 쿼리가 들어왔을 때 데이터베이스에서 적절한 문서를 가져온 후, MRC 모델을 통해 가져온 문서에서 답을 찾는 프로세스이다.</p>
<p>이 때 중요한 것은 정답이 있을 만한 문서를 적절하게 찾아서 가져오는 과정이며, Query와 Passage를 미리 임베딩한 뒤 유사도로 랭킹을 매겨놓고, 유사도가 가장 높은 Passage를 선택한다.</p>
<h2 id="Passage-Embedding-and-Sparse-Embedding"><a href="#Passage-Embedding-and-Sparse-Embedding" class="headerlink" title="Passage Embedding and Sparse Embedding"></a>Passage Embedding and Sparse Embedding</h2><h3 id="Passage-Embedding-Space"><a href="#Passage-Embedding-Space" class="headerlink" title="Passage Embedding Space"></a>Passage Embedding Space</h3><p>Passage Embedding의 벡터 공간을 의미하며, 벡터화된 Passage를 이용하여 Passage 간 유사도도 계산할 수 있다.</p>
<h3 id="Sparse-Embedding"><a href="#Sparse-Embedding" class="headerlink" title="Sparse Embedding"></a>Sparse Embedding</h3><p>0이 아닌 숫자가 상당히 적게 분포되어 있는 벡터를 Sparse Vector라고 하는데, 보통 원핫임베딩의 경우 Vector의 차원이 굉장히 커지게 된다. 따라서 Sparse한 Embedding을 구성하는 것이 유리한데, 그 방법으로는</p>
<ol>
<li>BoW(Bag of Words)를 구성 -&gt; n-gram (하지만 n이 커질수록 제곱으로 vocab 크기가 커진다는 단점이 있음.)<ul>
<li>unigram: it, was, the, best, of, times</li>
<li>bigram: it was, was the, the best, best of, of times</li>
</ul>
</li>
<li>Term Value를 결정하는 방법<ul>
<li>Term이 document에 등장하는지 (binary)</li>
<li>Term이 몇 번 등장하는지 (term frequency) 등 (TF-IDF)</li>
</ul>
</li>
</ol>
<p>즉 vocab의 크기에 따라서 Embedding 차원이 결정되는데, 등장하는 단어가 많을수록, n-gram에서 n이 커질수록 차원이 커지게 된다.</p>
<p>이러한 BoW 방법론은 Term overlap을 정확하게 잡아내야 할 때 굉장히 유용하지만, 의미(semantic)가 비슷한데 다른 단어인 경우에는 아예 비교가 불가능하다</p>
<h2 id="TF-IDF"><a href="#TF-IDF" class="headerlink" title="TF-IDF"></a>TF-IDF</h2><h3 id="TF-IDF란"><a href="#TF-IDF란" class="headerlink" title="TF-IDF란?"></a>TF-IDF란?</h3><p>Term Frequency - Inverse Document Frequency 란 단어의 등장빈도 뿐만 아니라 단어가 제공하는 정보의 양을 곱하여 계산하며, 어떤 지문에선 자주 등장하지만 통합 문서에서는 많이 등장하지 않았으면 그 지문에서 많이 등장한 단어들에 점수를 더 주게 된다.</p>
<h3 id="Term-Frequency-TF"><a href="#Term-Frequency-TF" class="headerlink" title="Term Frequency (TF)"></a>Term Frequency (TF)</h3><p>해당 문서 내 단어의 등장 빈도를 의미한다. TF를 계산하는 것은 매우 간단한데, 특정 단어가 해당 문서에 몇 번 등장하는지를 계산하게 된다. 이후에 Normalize를 한 이후 비율로 변환하여 사용하게 된다.</p>
<h3 id="Inverse-Document-Frequency-IDF"><a href="#Inverse-Document-Frequency-IDF" class="headerlink" title="Inverse Document Frequency (IDF)"></a>Inverse Document Frequency (IDF)</h3><p>단어가 제공하는 정보의 양으로, 특정 Term이 등장한 Document 개수를 총 Document 개수로 나눈 이후에 log를 씌워서 계산한다.</p>
<h3 id="Combine-TF-amp-IDF"><a href="#Combine-TF-amp-IDF" class="headerlink" title="Combine TF &amp; IDF"></a>Combine TF &amp; IDF</h3><p>TF와 IDF를 곱하여 최종 점수를 계산하며, ‘a’나 ‘the’ 같은 매우 자주 나오는 관사들은 TF는 높지만 IDF가 0에 가깝기 때문에 매우 낮은 점수를 기록할 것이며, 자주 등장하지 않는 고유명사 들에는 IDF가 커지면서 전체적인 TF-IDF 값이 증가할 것이다.</p>
<h3 id="TF-IDF를-이용해-유사도-구하기"><a href="#TF-IDF를-이용해-유사도-구하기" class="headerlink" title="TF-IDF를 이용해 유사도 구하기"></a>TF-IDF를 이용해 유사도 구하기</h3><p>TF-IDF에서는 cosine 유사도를 사용하며, 결국엔 cosine distance로 볼 수 있다.</p>
<h3 id="BM25"><a href="#BM25" class="headerlink" title="BM25"></a>BM25</h3><p>TF-IDF보다 많이 쓰이는 BoW와 유사한 sparse embedding으로, TF-IDF에서 문서의 길이까지 고려하여 점수를 매긴다. 검색엔진이나 추천 시스템에서 굉장히 많이 사용되는 방법론이다.</p>
<h2 id="Introduction-to-Dense-Embedding"><a href="#Introduction-to-Dense-Embedding" class="headerlink" title="Introduction to Dense Embedding"></a>Introduction to Dense Embedding</h2><h3 id="Passage-Embedding"><a href="#Passage-Embedding" class="headerlink" title="Passage Embedding"></a>Passage Embedding</h3><p>Passage Embedding은 구절(passage)을 벡터로 변환한 것으로, TF-IDF와 같은 Sparse Embedding의 경우에는 벡터의 크기는 매우 크지만 실제로 0이 아닌 숫자가 상당히 적게 존재한다. 또한 이러한 BoW 방법론 같은 경우에는 특정 단어가 있어야 0이 아닌 값이 생기기 때문에 실제로 대부분의 값들이 0으로 존재한다.</p>
<h3 id="Limitations-of-sparse-embedding"><a href="#Limitations-of-sparse-embedding" class="headerlink" title="Limitations of sparse embedding"></a>Limitations of sparse embedding</h3><p>Sparse Embedding의 차원이 큰 것은 compressed format으로 해결할 순 있지만… 가장 큰 단점은 유사성을 고려하지 못한다는 것이다.</p>
<h3 id="Dense-Embedding"><a href="#Dense-Embedding" class="headerlink" title="Dense Embedding"></a>Dense Embedding</h3><p>Sparse Embedding의 한계를 해결하기 위해 Dense Embedding이 등장하고 최근에는 훨씬 많이 사용되고 있다. Sparse embedding에 비해 더 작은 차원의 고밀도 벡터로 이루어져있고, 대부분의 요소가 0이 아닌 값들을 가지게 된다. 또한 각 차원이 특정 Term에 대응되지 않는다는 특징이 있다.</p>
<h3 id="Retrieval-Sparse-vs-Dense"><a href="#Retrieval-Sparse-vs-Dense" class="headerlink" title="Retrieval: Sparse vs. Dense"></a>Retrieval: Sparse vs. Dense</h3><p>Sparse Embedding은 단어의 존재 유무를 알아맞추기 상당히 유용하지만 의미를 해석하기가 어렵고, 따라서 Dense 처럼 의미가 같더라도 다른 단어로 표현된 것을 탐지할 수 있는 임베딩을 사용하게 된다.</p>
<p>하지만 중요한 Term들이 정확히 일치해야 하는 경우에 Sparse 임베딩의 성능이 확실히 뛰어나기 때문에 Sparse 혼자만으로는 할 수 있는 것이 적기 때문에 Sparse와 Dense를 동시에 사용하거나, Dense만으로 구성하는 경우가 많아졌다.</p>
<h2 id="Training-Dense-Encoder"><a href="#Training-Dense-Encoder" class="headerlink" title="Training Dense Encoder"></a>Training Dense Encoder</h2><p>BERT와 같은 Pre-trained Language Model(PLM)이면 Dense Encoder가 될 수 있으며, 그 외 다양한 Neural Net 구조도 가능하다. Passage를 Embedding 하게 될 때는 CLS 토큰의 output을 사용하게 된다. 이후엔 Question Encoder와 Passage Encoder 에서 각각 나온 Dense Embedding을 dot product 함으로써 유사도를 구하게 된다. 학습 시에는 두 인코더를 Fine Tuning하게 된다.</p>
<h3 id="Dense-Encoder-학습-목표와-학습-데이터"><a href="#Dense-Encoder-학습-목표와-학습-데이터" class="headerlink" title="Dense Encoder 학습 목표와 학습 데이터"></a>Dense Encoder 학습 목표와 학습 데이터</h3><ul>
<li><p>학습목표: 연관된 Question과 Passage Dense Embedding 간의 거리를 좁히는 것 (내적값을 높이는 것)으로 higher한 similarity를 찾는 것을 목표로 한다.</p>
</li>
<li><p>Challenge: 그렇다면, 연관된 Question과 Passage를 어떻게 찾을 것인가? 이것은 기존 MRC 데이터셋을 활용하여 해결할 수 있다.</p>
<p>-&gt; 연관된 Question과 Passage 간의 dense embedding 거리를 좁히며 (positive), 연관되지 않은 것들에 대해서는 거리를 멀게 하는 방식으로 학습을 진행한다. (negative)</p>
</li>
<li><p>Negative Sampling</p>
<ul>
<li>Corpus 내에서 랜덤하게 뽑으며, 좀 더 헷갈리는 negative 샘플들 (TF-IDF 스코어는 높지만, 답을 포함하지 않는 것들)을 뽑아낸다.</li>
</ul>
</li>
<li><p>Objective function</p>
<ul>
<li>Positive passage에 대한 Negative Log Likelihood Loss를 사용한다.</li>
</ul>
</li>
<li><p>성능을 측정하는 방법으로는 Tok-k retrieval accuracy: retrieve 된 passage 중에 답을 포함하는 passage 비율로 측정한다.</p>
</li>
</ul>
<h2 id="Passage-Retrieval-with-Dense-Encoder"><a href="#Passage-Retrieval-with-Dense-Encoder" class="headerlink" title="Passage Retrieval with Dense Encoder"></a>Passage Retrieval with Dense Encoder</h2><h3 id="From-dense-encoding-to-retrieval"><a href="#From-dense-encoding-to-retrieval" class="headerlink" title="From dense encoding to retrieval"></a>From dense encoding to retrieval</h3><p>Passage와 Query를 각각 임베딩한 후, 쿼리로부터 가까운 순서대로 Pasage의 순서를 매긴다.</p>
<h3 id="From-retrieval-to-odqa"><a href="#From-retrieval-to-odqa" class="headerlink" title="From retrieval to odqa"></a>From retrieval to odqa</h3><p>Retriever를 통해 찾아낸 Passage를 활용하여, MRC 모델로 답을 찾는다.</p>
<h3 id="Dense-Encoding을-개선하는-방법"><a href="#Dense-Encoding을-개선하는-방법" class="headerlink" title="Dense Encoding을 개선하는 방법"></a>Dense Encoding을 개선하는 방법</h3><ul>
<li>학습방법 개선 (DPR)</li>
<li>인코더 모델 개선 (BERT보다 크고 정확한 Pretrained 모델)</li>
<li>데이터 개선 (더 많은 데이터와 전처리 등)</li>
</ul>
</div><div class="article-licensing box"><div class="licensing-title"><p>PStage MRC 4-5강 - Passage Retrieval - Sparse Embedding, Dense Embedding</p><p><a href="https://l-yohai.github.io/PStage-MRC-4-5강-Passage-Retrieval-Sparse-Embedding-Dense-Embedding/">https://l-yohai.github.io/PStage-MRC-4-5강-Passage-Retrieval-Sparse-Embedding-Dense-Embedding/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>Author</h6><p>Yohan Lee</p></div></div><div class="level-item is-narrow"><div><h6>Posted on</h6><p>2021-10-14</p></div></div><div class="level-item is-narrow"><div><h6>Updated on</h6><p>2021-10-14</p></div></div><div class="level-item is-narrow"><div><h6>Licensed under</h6><p><a class="icons" rel="external nofollow noopener noreferrer" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="icon fab fa-creative-commons"></i></a><a class="icons" rel="external nofollow noopener noreferrer" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="icon fab fa-creative-commons-by"></i></a><a class="icons" rel="external nofollow noopener noreferrer" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="icon fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><!--!--></article></div><!--!--><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/PStage-MRC-6%EA%B0%95-Scaling-up-with-FAISS/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">PStage MRC 6강 - Scaling up with FAISS</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/PStage-MRC-3%EA%B0%95-Generation-based-MRC/"><span class="level-item">PStage MRC 3강 - Generation-based MRC</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">댓글</h3><script src="https://utteranc.es/client.js" repo="l-yohai/l-yohai.github.io" issue-term="pathname" theme="github-light" crossorigin="anonymous" async></script></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar is-rounded" src="/image/avatar.jpg" alt="YOHAI"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">YOHAI</p><p class="is-size-6 is-block">Your Own Humanistic AI</p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">포스트</p><a href="/archives"><p class="title">65</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">카테고리</p><a href="/categories"><p class="title">21</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">태그</p><a href="/tags"><p class="title">26</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/l-yohai" target="_blank" rel="external nofollow noopener noreferrer">팔로우</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="external nofollow noopener noreferrer" title="Github" href="https://github.com/l-yohai"><i class="fab fa-github"></i></a></div></div></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">카테고리</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/42-Life/"><span class="level-start"><span class="level-item">42 Life</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/Boostcamp-AI-Tech/"><span class="level-start"><span class="level-item">Boostcamp AI Tech</span></span><span class="level-end"><span class="level-item tag">4</span></span></a><ul><li><a class="level is-mobile" href="/categories/Boostcamp-AI-Tech/Master-Class/"><span class="level-start"><span class="level-item">Master Class</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Diary/"><span class="level-start"><span class="level-item">Diary</span></span><span class="level-end"><span class="level-item tag">8</span></span></a></li><li><a class="level is-mobile" href="/categories/Paper-Review/"><span class="level-start"><span class="level-item">Paper Review</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/Programming/"><span class="level-start"><span class="level-item">Programming</span></span><span class="level-end"><span class="level-item tag">10</span></span></a><ul><li><a class="level is-mobile" href="/categories/Programming/Problem-Solving/"><span class="level-start"><span class="level-item">Problem Solving</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Programming/Project/"><span class="level-start"><span class="level-item">Project</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/Programming/Tips/"><span class="level-start"><span class="level-item">Tips</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Study/"><span class="level-start"><span class="level-item">Study</span></span><span class="level-end"><span class="level-item tag">30</span></span></a><ul><li><a class="level is-mobile" href="/categories/Study/AI/"><span class="level-start"><span class="level-item">AI</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/categories/Study/Algorithm/"><span class="level-start"><span class="level-item">Algorithm</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Study/C/"><span class="level-start"><span class="level-item">C</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Study/Math-for-AI/"><span class="level-start"><span class="level-item">Math for AI</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li><li><a class="level is-mobile" href="/categories/Study/NLP/"><span class="level-start"><span class="level-item">NLP</span></span><span class="level-end"><span class="level-item tag">6</span></span></a><ul><li><a class="level is-mobile" href="/categories/Study/NLP/MRC/"><span class="level-start"><span class="level-item">MRC</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Study/Network/"><span class="level-start"><span class="level-item">Network</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Study/Python/"><span class="level-start"><span class="level-item">Python</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Study/Visualization/"><span class="level-start"><span class="level-item">Visualization</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Yonsei/"><span class="level-start"><span class="level-item">Yonsei</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/fur-Musik/"><span class="level-start"><span class="level-item">für Musik</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">태그</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/42-Seoul/"><span class="tag">42 Seoul</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/42Seoul/"><span class="tag">42Seoul</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/42%EC%84%9C%EC%9A%B8/"><span class="tag">42서울</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/42%EC%84%9C%EC%9A%B8-%EB%B3%B8%EA%B3%BC%EC%A0%95/"><span class="tag">42서울 본과정</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/42%EC%84%9C%EC%9A%B8-%ED%9B%84%EA%B8%B0/"><span class="tag">42서울 후기</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/AI-%EB%8C%80%ED%9A%8C-%ED%98%91%EC%97%85-%ED%94%8C%EB%9E%98%EB%8B%9D%EA%B0%80%EC%9D%B4%EB%93%9C/"><span class="tag">AI, 대회, 협업, 플래닝가이드</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Franz-Liszt/"><span class="tag">Franz Liszt</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Kakao-I-Open-Builder/"><span class="tag">Kakao I Open Builder</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/La-Piscine/"><span class="tag">La Piscine</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Papago-NMT-API/"><span class="tag">Papago NMT API</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Teachable-Machine/"><span class="tag">Teachable Machine</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Tech-Seminar/"><span class="tag">Tech Seminar</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/VoyagerX/"><span class="tag">VoyagerX</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/WaveNet/"><span class="tag">WaveNet</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Word2Vec/"><span class="tag">Word2Vec</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%EA%B3%B5%ED%86%B5%EA%B3%BC%EC%A0%95/"><span class="tag">공통과정</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%EB%82%A8%EC%84%B8%EB%8F%99/"><span class="tag">남세동</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%EB%94%A5%EB%9F%AC%EB%8B%9D/"><span class="tag">딥러닝</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%EB%B3%B4%EC%9D%B4%EC%A0%80%EC%97%91%EC%8A%A4/"><span class="tag">보이저엑스</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%EC%8B%9C%EA%B0%81%ED%99%94/"><span class="tag">시각화</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%EC%97%B4%EC%A0%95/"><span class="tag">열정</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%EC%9D%B4%EB%84%88%EC%84%9C%ED%81%B4/"><span class="tag">이너서클</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%EC%9D%B4%EB%85%B8%EB%B2%A0%EC%9D%B4%EC%85%98%EC%95%84%EC%B9%B4%EB%8D%B0%EB%AF%B8/"><span class="tag">이노베이션아카데미</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%EC%B1%97%EB%B4%87/"><span class="tag">챗봇</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%EC%B4%88%EC%A0%88%EA%B8%B0%EA%B5%90-%EC%97%B0%EC%8A%B5%EA%B3%A1/"><span class="tag">초절기교 연습곡</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%EC%B9%B4%EC%B9%B4%EC%98%A4%ED%86%A1/"><span class="tag">카카오톡</span><span class="tag">2</span></a></div></div></div></div></div><div class="column-right-shadow is-hidden-widescreen is-sticky"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3 is-sticky"><div class="card widget" id="toc" data-type="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">카탈로그</h3><ul class="menu-list"><li><a class="level is-mobile" href="#Introduction-to-Passage-Retrieval"><span class="level-left"><span class="level-item">1</span><span class="level-item">Introduction to Passage Retrieval</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Passage-Retrieval"><span class="level-left"><span class="level-item">1.1</span><span class="level-item">Passage Retrieval</span></span></a></li><li><a class="level is-mobile" href="#Passage-Retrieval-with-MRC"><span class="level-left"><span class="level-item">1.2</span><span class="level-item">Passage Retrieval with MRC</span></span></a></li></ul></li><li><a class="level is-mobile" href="#Passage-Embedding-and-Sparse-Embedding"><span class="level-left"><span class="level-item">2</span><span class="level-item">Passage Embedding and Sparse Embedding</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Passage-Embedding-Space"><span class="level-left"><span class="level-item">2.1</span><span class="level-item">Passage Embedding Space</span></span></a></li><li><a class="level is-mobile" href="#Sparse-Embedding"><span class="level-left"><span class="level-item">2.2</span><span class="level-item">Sparse Embedding</span></span></a></li></ul></li><li><a class="level is-mobile" href="#TF-IDF"><span class="level-left"><span class="level-item">3</span><span class="level-item">TF-IDF</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#TF-IDF란"><span class="level-left"><span class="level-item">3.1</span><span class="level-item">TF-IDF란?</span></span></a></li><li><a class="level is-mobile" href="#Term-Frequency-TF"><span class="level-left"><span class="level-item">3.2</span><span class="level-item">Term Frequency (TF)</span></span></a></li><li><a class="level is-mobile" href="#Inverse-Document-Frequency-IDF"><span class="level-left"><span class="level-item">3.3</span><span class="level-item">Inverse Document Frequency (IDF)</span></span></a></li><li><a class="level is-mobile" href="#Combine-TF-amp-IDF"><span class="level-left"><span class="level-item">3.4</span><span class="level-item">Combine TF &amp; IDF</span></span></a></li><li><a class="level is-mobile" href="#TF-IDF를-이용해-유사도-구하기"><span class="level-left"><span class="level-item">3.5</span><span class="level-item">TF-IDF를 이용해 유사도 구하기</span></span></a></li><li><a class="level is-mobile" href="#BM25"><span class="level-left"><span class="level-item">3.6</span><span class="level-item">BM25</span></span></a></li></ul></li><li><a class="level is-mobile" href="#Introduction-to-Dense-Embedding"><span class="level-left"><span class="level-item">4</span><span class="level-item">Introduction to Dense Embedding</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Passage-Embedding"><span class="level-left"><span class="level-item">4.1</span><span class="level-item">Passage Embedding</span></span></a></li><li><a class="level is-mobile" href="#Limitations-of-sparse-embedding"><span class="level-left"><span class="level-item">4.2</span><span class="level-item">Limitations of sparse embedding</span></span></a></li><li><a class="level is-mobile" href="#Dense-Embedding"><span class="level-left"><span class="level-item">4.3</span><span class="level-item">Dense Embedding</span></span></a></li><li><a class="level is-mobile" href="#Retrieval-Sparse-vs-Dense"><span class="level-left"><span class="level-item">4.4</span><span class="level-item">Retrieval: Sparse vs. Dense</span></span></a></li></ul></li><li><a class="level is-mobile" href="#Training-Dense-Encoder"><span class="level-left"><span class="level-item">5</span><span class="level-item">Training Dense Encoder</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Dense-Encoder-학습-목표와-학습-데이터"><span class="level-left"><span class="level-item">5.1</span><span class="level-item">Dense Encoder 학습 목표와 학습 데이터</span></span></a></li></ul></li><li><a class="level is-mobile" href="#Passage-Retrieval-with-Dense-Encoder"><span class="level-left"><span class="level-item">6</span><span class="level-item">Passage Retrieval with Dense Encoder</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#From-dense-encoding-to-retrieval"><span class="level-left"><span class="level-item">6.1</span><span class="level-item">From dense encoding to retrieval</span></span></a></li><li><a class="level is-mobile" href="#From-retrieval-to-odqa"><span class="level-left"><span class="level-item">6.2</span><span class="level-item">From retrieval to odqa</span></span></a></li><li><a class="level is-mobile" href="#Dense-Encoding을-개선하는-방법"><span class="level-left"><span class="level-item">6.3</span><span class="level-item">Dense Encoding을 개선하는 방법</span></span></a></li></ul></li></ul></div></div><style>#toc .menu-list > li > a.is-active + .menu-list { display: block; }#toc .menu-list > li > a + .menu-list { display: none; }</style><script src="/js/toc.js" defer></script></div><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">최근 글</h3><article class="media"><div class="media-content"><p class="date"><time datetime="2021-10-16T02:24:55.000Z">2021-10-16</time></p><p class="title"><a href="/PStage-MRC-7%EA%B0%95-Linking-MRC-and-Retrieval/">PStage MRC 7강 - Linking MRC and Retrieval</a></p><p class="categories"><a href="/categories/Study/">Study</a> / <a href="/categories/Study/NLP/">NLP</a> / <a href="/categories/Study/NLP/MRC/">MRC</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time datetime="2021-10-14T21:24:41.000Z">2021-10-15</time></p><p class="title"><a href="/PStage-MRC-6%EA%B0%95-Scaling-up-with-FAISS/">PStage MRC 6강 - Scaling up with FAISS</a></p><p class="categories"><a href="/categories/Study/">Study</a> / <a href="/categories/Study/NLP/">NLP</a> / <a href="/categories/Study/NLP/MRC/">MRC</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time datetime="2021-10-13T19:59:34.000Z">2021-10-14</time></p><p class="title"><a href="/PStage-MRC-4-5%EA%B0%95-Passage-Retrieval-Sparse-Embedding-Dense-Embedding/">PStage MRC 4-5강 - Passage Retrieval - Sparse Embedding, Dense Embedding</a></p><p class="categories"><a href="/categories/Study/">Study</a> / <a href="/categories/Study/NLP/">NLP</a> / <a href="/categories/Study/NLP/MRC/">MRC</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time datetime="2021-10-13T02:50:23.000Z">2021-10-13</time></p><p class="title"><a href="/PStage-MRC-3%EA%B0%95-Generation-based-MRC/">PStage MRC 3강 - Generation-based MRC</a></p><p class="categories"><a href="/categories/Study/">Study</a> / <a href="/categories/Study/NLP/">NLP</a> / <a href="/categories/Study/NLP/MRC/">MRC</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time datetime="2021-10-12T02:41:29.000Z">2021-10-12</time></p><p class="title"><a href="/PStage-MRC-2%EA%B0%95-Extraction-based-MRC/">PStage MRC 2강 - Extraction-based MRC</a></p><p class="categories"><a href="/categories/Study/">Study</a> / <a href="/categories/Study/NLP/">NLP</a> / <a href="/categories/Study/NLP/MRC/">MRC</a></p></div></article></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">아카이브</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2021/10/"><span class="level-start"><span class="level-item">10월 2021</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/09/"><span class="level-start"><span class="level-item">9월 2021</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/08/"><span class="level-start"><span class="level-item">8월 2021</span></span><span class="level-end"><span class="level-item tag">33</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/04/"><span class="level-start"><span class="level-item">4월 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/12/"><span class="level-start"><span class="level-item">12월 2020</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/09/"><span class="level-start"><span class="level-item">9월 2020</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/08/"><span class="level-start"><span class="level-item">8월 2020</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/06/"><span class="level-start"><span class="level-item">6월 2020</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/05/"><span class="level-start"><span class="level-item">5월 2020</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/04/"><span class="level-start"><span class="level-item">4월 2020</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/03/"><span class="level-start"><span class="level-item">3월 2020</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/02/"><span class="level-start"><span class="level-item">2월 2020</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li></ul></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/image/logo.png" alt="YOHAI" height="28"></a><p class="is-size-7"><span>&copy; 2021 Yohan Lee</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="external nofollow noopener noreferrer">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="external nofollow noopener noreferrer">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="external nofollow noopener noreferrer" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="external nofollow noopener noreferrer" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="external nofollow noopener noreferrer" title="Download on GitHub" href="https://github.com/l-yohai"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("ko");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="맨 위로" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "이 웹 사이트는 귀하의 경험을 향상시키기 위해 Cookie를 사용합니다.",
          dismiss: "무시",
          allow: "허용",
          deny: "거부",
          link: "더 알아보기",
          policy: "Cookie 정책",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><script type="text/x-mathjax-config">MathJax.Hub.Config({
            'HTML-CSS': {
                matchFontHeight: false
            },
            SVG: {
                matchFontHeight: false
            },
            CommonHTML: {
                matchFontHeight: false
            },
            tex2jax: {
                inlineMath: [
                    ['$','$'],
                    ['\\(','\\)']
                ]
            }
        });</script><script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="입력 하세요..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"입력 하세요...","untitled":"(제목 없음)","posts":"포스트","pages":"페이지","categories":"카테고리","tags":"태그"});
        });</script></body></html>